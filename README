# Vape Identifier App

Um aplicativo mobile em **React Native (Expo)** que permite ao usuÃ¡rio tirar uma foto de um cigarro eletrÃ´nico (vape) e obter informaÃ§Ãµes detalhadas sobre o modelo identificado por meio de um modelo de IA treinado no Teachable Machine.

---

## ğŸ§© Tecnologias utilizadas

- **Frontend:**  
  - React Native (Expo)  
  - Axios (para consumo da API)

- **Backend:**  
  - FastAPI  
  - TensorFlow / Keras (modelo de classificaÃ§Ã£o de imagens)  
  - Pillow (processamento de imagens)  
  - Numpy  
  - CORS Middleware  

---

## ğŸ“¦ Estrutura do projeto

.
â”œâ”€â”€ backend/
â”‚ â”œâ”€â”€ main.py # CÃ³digo FastAPI (este arquivo)
â”‚ â”œâ”€â”€ modelo/
â”‚ â”‚ â””â”€â”€ keras_model.h5 # Modelo treinado no Teachable Machine
â”‚ â”œâ”€â”€ requirements.txt # DependÃªncias do backend
â”‚ â””â”€â”€ README.md
â””â”€â”€ frontend/
â””â”€â”€ (cÃ³digo do seu app React Native)

yaml

---

## ğŸš€ Como rodar o Backend (localmente)

1. Clone o repositÃ³rio:
   ```
   git clone https://github.com/seuusuario/vape-identifier.git
   cd vape-identifier/backend
Crie um ambiente virtual:


python -m venv venv
source venv/bin/activate  # Linux/macOS
venv\Scripts\activate     # Windows
Instale as dependÃªncias:


pip install -r requirements.txt
O arquivo requirements.txt deve conter:

nginx
fastapi
uvicorn
tensorflow
pillow
numpy
Coloque o modelo treinado (keras_model.h5) na pasta ./modelo/.

Rode o servidor:


uvicorn main:app --reload --host 0.0.0.0 --port 8000
Por padrÃ£o, o servidor ficarÃ¡ disponÃ­vel em:
http://localhost:8000

ğŸŒŸ Exemplo de requisiÃ§Ã£o do Frontend
Para enviar a imagem capturada no app e receber o modelo do vape identificado:

javascript
import axios from 'axios';

// Substitua pela URL do seu servidor backend (por exemplo, rodando local ou em produÃ§Ã£o)
const API_URL = 'http://<ENDERECO_DO_BACKEND>:8000/predict/';

async function enviarImagemVape(uri) {
  const formData = new FormData();
  formData.append('file', {
    uri,
    type: 'image/jpeg',
    name: 'foto.jpg',
  });

  try {
    const response = await axios.post(API_URL, formData, {
      headers: {
        'Content-Type': 'multipart/form-data',
      },
    });

    console.log('Resposta da API:', response.data);
    // { class: "VapePen", confidence: 0.95 }
  } catch (error) {
    console.error('Erro ao enviar imagem:', error);
  }
}
ğŸª„ Como inicializar o Frontend (Expo)
Instale o Expo CLI, se ainda nÃ£o tiver:


npm install -g expo-cli
Na pasta frontend/, instale as dependÃªncias:


cd ../frontend
npm install
Inicie o app:


expo start
Abra no seu celular usando o Expo Go (disponÃ­vel na Play Store / App Store).

â˜ï¸ Como rodar na AWS (EC2 ou Beanstalk)
Aqui estÃ¡ um guia simplificado para o backend:

ğŸš€ EC2
Crie uma instÃ¢ncia EC2 (Ubuntu, por exemplo).

Acesse a instÃ¢ncia via SSH.

Instale o Python 3 e as bibliotecas necessÃ¡rias:


sudo apt update
sudo apt install python3-pip python3-venv
Clone seu repositÃ³rio e ative o ambiente virtual:


git clone https://github.com/seuusuario/vape-identifier.git
cd vape-identifier/backend
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
Execute o backend:


uvicorn main:app --host 0.0.0.0 --port 8000
Configure o Security Group da instÃ¢ncia EC2 para permitir acesso Ã  porta 8000 ou utilize um servidor de produÃ§Ã£o (ex.: Nginx + Gunicorn/Uvicorn).

ğŸŒ± Elastic Beanstalk (opcional)
Instale a CLI do Beanstalk:


pip install awsebcli
Configure o Beanstalk com:


eb init
Crie e faÃ§a deploy:


eb create vape-api-env
eb deploy
O Beanstalk cuidarÃ¡ da escalabilidade e endpoint pÃºblico.

âš™ï¸ Notas adicionais
SeguranÃ§a: Em produÃ§Ã£o, use HTTPS e configure corretamente seu CORS (nÃ£o use "*" em produÃ§Ã£o!).

Monitoramento: Considere usar serviÃ§os como CloudWatch (AWS) ou Sentry.

Banco de dados: Atualmente nÃ£o hÃ¡ persistÃªncia alÃ©m do modelo, mas se quiser adicionar um banco para armazenar histÃ³ricos de imagens, sugiro PostgreSQL ou MongoDB.

ğŸ“„ Sobre o projeto
Este projeto foi desenvolvido para identificar diferentes tipos de vapes, utilizando um modelo de IA treinado no Teachable Machine do Google.
Atualmente suporta as seguintes classes:

âœ… VapeBox
âœ… VapePen
âœ… VapePod
âœ… NaoVape

ğŸ“¬ Contato
Desenvolvido por [Seu Nome ou Equipe]
ğŸ“§ seuemail@dominio.com