# ğŸ“¸ Vape Identifier App - README

Este projeto tem como objetivo identificar modelos de cigarros eletrÃ´nicos (vapes) usando a cÃ¢mera do celular em um app React Native (Expo), com um backend em Python (FastAPI) que roda um modelo de IA treinado no Teachable Machine.

---

## ğŸ”¥ Fluxo do aplicativo

âœ… UsuÃ¡rio abre a cÃ¢mera no app e tira foto do vape  
âœ… A foto Ã© enviada para a API backend (FastAPI)  
âœ… O backend usa o modelo de IA treinado para classificar a imagem  
âœ… O app recebe a resposta e abre uma tela com informaÃ§Ãµes detalhadas sobre o modelo de vape identificado (descriÃ§Ã£o, preÃ§o, etc.)

---

## âš™ï¸ Tecnologias usadas

- **Frontend (Mobile)**: React Native (Expo)
- **Backend**: Python (FastAPI)
- **Modelo de IA**: Teachable Machine
- **TÃºnel para expor API local**: ngrok

---

## ğŸš€ Como rodar o backend (FastAPI)

1ï¸âƒ£ Instalar as dependÃªncias do backend:
```
pip install -r requirements.txt
2ï¸âƒ£ Iniciar o servidor local:

uvicorn main:app --reload --port 8000

ğŸŒ Usando o ngrok para expor a API local
1ï¸âƒ£ Instalar o ngrok:

npm install -g ngrok
ou

brew install ngrok
2ï¸âƒ£ Iniciar o tÃºnel ngrok para a porta 8000 (onde roda o FastAPI):

ngrok http 8000
3ï¸ a URL gerada pelo ngrok, que vai parecer com:

cp
https://9b84-xxxxx.ngrok.io
Essa URL serÃ¡ usada no app React Native para se comunicar com a API.
Ela muda ao ser reiniciada!!!!!

ğŸ’» O que o time de Frontend precisa saber
âœ… Toda requisiÃ§Ã£o de classificaÃ§Ã£o de imagem deve ser feita para a URL gerada pelo ngrok (ex.: https://9b84-xxxxx.ngrok.io/classify).

âœ… Exemplo de requisiÃ§Ã£o com fetch:

j
const response = await fetch('https://9b84-xxxxx.ngrok.io/classify', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    image: base64Image // imagem em base64
  })
});
const data = await response.json();
âœ… Exemplo de requisiÃ§Ã£o com axios:

j
import axios from 'axios';

const api = axios.create({
  baseURL: 'https://9b84-xxxxx.ngrok.io',
});

const classifyVape = async (base64Image) => {
  const response = await api.post('/classify', { image: base64Image });
  return response.data;
};
âœ… Importante: A URL do ngrok muda sempre que reiniciado. Se quiser URL fixa, usar plano pago do ngrok.

ğŸ“² Recursos a serem baixados/instalados para o Frontend
âœ… Node.js (versÃ£o recomendada: LTS)
âœ… Expo CLI

npm install -g expo-cli
âœ… Bibliotecas principais (jÃ¡ presentes em projetos Expo, mas revisar):

react-native-camera ou expo-camera

axios (opcional, para requisiÃ§Ãµes HTTP mais simples)

react-navigation (para navegaÃ§Ã£o entre telas)

ğŸ’¡ ObservaÃ§Ãµes para o Frontend
Antes de testar no app real, verificar se o tÃºnel ngrok e a API estÃ£o ativos.

A comunicaÃ§Ã£o Ã© via HTTPS (o ngrok jÃ¡ fornece isso, entÃ£o nÃ£o precisa se preocupar).

Enviar a foto como base64 no corpo do POST. Pode usar:

const base64Image = await FileSystem.readAsStringAsync(uri, { encoding: 'base64' });
ğŸ“¦ Como treinar um novo modelo no Teachable Machine
âœ… Acesse o Teachable Machine
âœ… Crie um novo projeto com as classes de cada modelo de vape
âœ… Exporte o modelo em formato compatÃ­vel (preferencialmente TensorFlow.js ou outro que seja usado no backend FastAPI)

ğŸ“ Resumo
ğŸš€ Backend: FastAPI rodando localmente (uvicorn main:app --reload --port 8000)

ğŸŒ TÃºnel: ngrok http 8000 para gerar a URL pÃºblica

ğŸ“² App React Native faz POST para a URL gerada

ğŸ§  Modelo de IA classifica e responde com detalhes do vape